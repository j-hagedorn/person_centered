# Comprehensive Mapping to Policy {#policy}

As with any important idea, person-centered planning has been discussed and debated for decades, leaving a vast body of policy, regulations, guidance, and explanations to sift through.  While many of the basic ideas of person-centered planning are simple and commonsense, practitioners are also required to adhere to existing policies. With this in mind, the body of knowledge is being developed:

- Based on a broad scope of relevant state and federal policies identified by MDHHS-BHDDA.
- Using natural-language processing techniques to identify and refine core terminology from the text of the identified policies
- In a manner that allows MDHHS-BHDDA to identify whether new federal policies would align with the current implementation of PCP

## Identify Scope of Policy

In collaboration with policy experts at MDHHS-BHDDA, we identified an initial scope for the inclusion of state and federal regulations in our search.  While it is designed to be extendable to include new policies as they are developed, and to allow for sharing and implementation across MDHHS departments if required, this initial set of regulations was used:

```{r}

corpus %>%
  group_by(source,document_abbrev,document) %>%
  summarize() %>% ungroup() %>%
  mutate(document = str_trunc(document,40,"right")) %>%
  arrange(desc(source),desc(document_abbrev)) %>%
  knitr::kable(
    col.names = c("Source","Abbreviated Title","Regulation"),
    caption = 'Regulations included in PCP body of knowledge.'
  )

```

This is intended to be an initial set of policies and regulations, which can be extended as necessary.^[For example, using the Federal Register API to [search for policies](https://www.federalregister.gov/documents/search?conditions%5Bagencies%5D%5B%5D=centers-for-medicare-medicaid-services&conditions%5Bagencies%5D%5B%5D=health-and-human-services-department&conditions%5Bagencies%5D%5B%5D=substance-abuse-and-mental-health-services-administration&conditions%5Bterm%5D=person-centered&conditions%5Btype%5D%5B%5D=RULE#) containing the phrase "person-centered" by relevant agencies.]  Additional work will be needed to assure that the most current version of amended policies is used, as this approach is refined.

## Find Occurrence of Concepts in Policy

The core concepts are derived from [key policy documents](#policy), and related terms can be flagged within other policy documents.

To do this, we take the annotated version of the regulation and replace words and phrases with their corresponding concepts.  We then reconstitute the original document with these replacements.

```{r}

tst <-
  concepts %>%
  mutate(
    concept_word = if_else(
      is.na(concept_name),
      token,
      paste0("{",concept_name,"}")
    )
  ) %>%
  group_by(doc_id, sid) %>%
  summarize(
    text = paste0(token, collapse = " "),
    rev_text = paste0(concept_word, collapse = " ")
  )

```
